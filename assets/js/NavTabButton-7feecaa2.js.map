{"version":3,"file":"NavTabButton-7feecaa2.js","sources":["../../../../src/components/ui/tab/NavTab.vue","../../../../src/components/ui/tab/NavTabButton.vue"],"sourcesContent":["<script>\nimport {\n  ref,\n  reactive,\n  computed,\n  useCssModule,\n  provide,\n  onBeforeMount,\n  onMounted,\n  watch,\n} from 'vue';\nimport Simplebar from 'simplebar-vue';\n\nimport UiTabList from '@/components/ui/tab/UiTabList.vue';\n\nconst defaultClassNames = () => ({\n  wrap: '',\n  inner: '',\n  scroller: '',\n  list: '',\n});\n\nexport default {\n  components: {\n    UiTabList,\n    Simplebar,\n  },\n  props: {\n    classNames: {\n      Type: Object,\n      default() {\n        return defaultClassNames();\n      },\n    },\n    useUiTab: {\n      Type: Boolean,\n      default: false,\n    },\n    auto: {\n      Type: Boolean,\n      default: false,\n    },\n    type: {\n      Type: String,\n      default: null,\n    },\n  },\n  setup(props) {\n    const style = useCssModule();\n\n    const state = reactive({\n      useUiTab: {\n        value: null,\n      },\n    });\n\n    const scroller = ref(null);\n    const list = ref(null);\n\n    const customClassNames = computed(() => {\n      const { classNames } = props;\n      return Object.assign(defaultClassNames(), classNames);\n    });\n\n    const setComponent = computed(() => {\n      const { useUiTab } = props;\n      return useUiTab ? UiTabList : 'ul';\n    });\n\n    const scrollToActive = () => {\n      const { auto } = props;\n\n      if (!auto) return;\n\n      const scrollerEl = scroller.value.scrollElement;\n      const listEl = list.value.el || list.value;\n      const active = (() => {\n        if (list.value.el) {\n          return listEl.getElementsByClassName('is-tab-opened');\n        } else {\n          return listEl.getElementsByClassName(style['nav-tab__item--active']);\n        }\n      })();\n      const margin =\n        listEl.getElementsByClassName(style['nav-tab__item'])[0].offsetLeft -\n        listEl.offsetLeft;\n\n      if (!active.length) return;\n\n      const scrollLeft = active[0].offsetLeft - listEl.offsetLeft - margin;\n\n      scrollerEl.scrollLeft = scrollLeft;\n    };\n\n    onBeforeMount(() => {\n      state.useUiTab.value = props.useUiTab;\n    });\n\n    onMounted(() => {\n      scrollToActive();\n    });\n\n    watch(\n      () => props.useUiTab,\n      (cur) => {\n        state.useUiTab.value = cur;\n      }\n    );\n\n    provide('navTabStyleModule', style);\n    provide('navTab', {\n      useUiTab: state.useUiTab,\n    });\n\n    return {\n      scroller,\n      list,\n      customClassNames,\n      setComponent,\n      scrollToActive,\n    };\n  },\n};\n</script>\n\n<template>\n  <div\n    :class=\"[\n      $style['nav-tab'],\n      {\n        [$style['nav-tab--auto']]: auto,\n        [$style[`nav-tab--type-${type}`]]: type,\n      },\n      customClassNames.wrap,\n    ]\"\n  >\n    <div :class=\"[$style['nav-tab__inner'], customClassNames.inner]\">\n      <Simplebar\n        ref=\"scroller\"\n        data-simplebar-auto-hide=\"false\"\n        :class=\"[$style['nav-tab__scroller'], customClassNames.scroller]\"\n      >\n        <component\n          :is=\"setComponent\"\n          ref=\"list\"\n          :class=\"[$style['nav-tab__list'], customClassNames.list]\"\n        >\n          <slot />\n        </component>\n      </Simplebar>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" module>\n@import '@/assets/scss/components/ui/tab/NavTab.scss';\n</style>\n","<script>\nimport { computed, inject } from 'vue';\nimport { RouterLink } from 'vue-router';\n\nimport UiTabButton from '@/components/ui/tab/UiTabButton.vue';\n\nconst defaultClassNames = () => ({\n  item: '',\n  button: '',\n  text: '',\n});\n\nexport default {\n  inheritAttrs: false,\n  props: {\n    classNames: {\n      Type: Object,\n      default() {\n        return defaultClassNames();\n      },\n    },\n    link: {\n      Type: String,\n      default: null,\n    },\n    tagName: {\n      Type: String,\n      default: 'div',\n    },\n    active: {\n      Type: Boolean,\n      default: false,\n    },\n    disabled: {\n      Type: Boolean,\n      default: false,\n    },\n  },\n  setup(props) {\n    const styleModule = inject('navTabStyleModule');\n    const navTab = inject('navTab', {});\n\n    const customClassNames = computed(() => {\n      const { classNames } = props;\n      return Object.assign(defaultClassNames(), classNames);\n    });\n\n    const setItemComponent = computed(() => {\n      const { useUiTab } = navTab;\n      return useUiTab.value ? UiTabButton : 'li';\n    });\n\n    const setButtonComponent = computed(() => {\n      const { useUiTab } = navTab;\n      const { tagName } = props;\n      return useUiTab.value\n        ? 'div'\n        : tagName === 'RouterLink'\n        ? RouterLink\n        : tagName;\n    });\n\n    const itemDisabled = computed(() => {\n      const { useUiTab } = navTab;\n      const { disabled } = props;\n      return (useUiTab.value && disabled) || null;\n    });\n\n    const buttonDisabled = computed(() => {\n      const { useUiTab } = navTab;\n      const { tagName, disabled } = props;\n      return useUiTab.value ? null : tagName === 'button' ? disabled : null;\n    });\n\n    return {\n      styleModule,\n      customClassNames,\n      setItemComponent,\n      setButtonComponent,\n      itemDisabled,\n      buttonDisabled,\n    };\n  },\n};\n</script>\n\n<template>\n  <component\n    :is=\"setItemComponent\"\n    :class=\"[\n      styleModule['nav-tab__item'],\n      {\n        [styleModule['nav-tab__item--active']]: active,\n        [styleModule['nav-tab__item--disabled']]: disabled,\n      },\n      customClassNames.item,\n    ]\"\n    :link=\"link\"\n    :disabled=\"itemDisabled\"\n  >\n    <component\n      :is=\"setButtonComponent\"\n      v-bind=\"$attrs\"\n      :class=\"[styleModule['nav-tab__button'], customClassNames.button]\"\n      :title=\"active ? '선택 됨' : null\"\n      :disabled=\"buttonDisabled\"\n    >\n      <span :class=\"[styleModule['nav-tab__text'], customClassNames.text]\">\n        <slot />\n      </span>\n    </component>\n  </component>\n</template>\n"],"names":["defaultClassNames","_sfc_main","UiTabList","Simplebar","props","style","useCssModule","state","reactive","scroller","ref","list","customClassNames","computed","classNames","setComponent","useUiTab","scrollToActive","auto","scrollerEl","listEl","active","margin","scrollLeft","onBeforeMount","onMounted","watch","cur","provide","_createElementBlock","_normalizeClass","_ctx","$props","$setup","_createElementVNode","_createVNode","_component_Simplebar","_openBlock","_createBlock","_resolveDynamicComponent","_renderSlot","styleModule","inject","navTab","setItemComponent","UiTabButton","setButtonComponent","tagName","RouterLink","itemDisabled","disabled","buttonDisabled","_mergeProps"],"mappings":"41BAeMA,EAAoB,KAAO,CAC/B,KAAM,GACN,MAAO,GACP,SAAU,GACV,KAAM,EACR,GAEKC,EAAU,CACb,WAAY,CACV,UAAAC,EACA,UAAAC,CACD,EACD,MAAO,CACL,WAAY,CACV,KAAM,OACN,SAAU,CACR,OAAOH,EAAiB,CACzB,CACF,EACD,SAAU,CACR,KAAM,QACN,QAAS,EACV,EACD,KAAM,CACJ,KAAM,QACN,QAAS,EACV,EACD,KAAM,CACJ,KAAM,OACN,QAAS,IACV,CACF,EACD,MAAMI,EAAO,CACX,MAAMC,EAAQC,IAERC,EAAQC,EAAS,CACrB,SAAU,CACR,MAAO,IACR,CACH,CAAC,EAEKC,EAAWC,EAAI,IAAI,EACnBC,EAAOD,EAAI,IAAI,EAEfE,EAAmBC,EAAS,IAAM,CACtC,KAAM,CAAE,WAAAC,CAAW,EAAIV,EACvB,OAAO,OAAO,OAAOJ,EAAmB,EAAEc,CAAU,CACtD,CAAC,EAEKC,EAAeF,EAAS,IAAM,CAClC,KAAM,CAAE,SAAAG,CAAW,EAAEZ,EACrB,OAAOY,EAAWd,EAAY,IAChC,CAAC,EAEKe,EAAiB,IAAM,CAC3B,KAAM,CAAE,KAAAC,GAASd,EAEjB,GAAI,CAACc,EAAM,OAEX,MAAMC,EAAaV,EAAS,MAAM,cAC5BW,EAAST,EAAK,MAAM,IAAMA,EAAK,MAC/BU,GAAU,IACVV,EAAK,MAAM,GACNS,EAAO,uBAAuB,eAAe,EAE7CA,EAAO,uBAAuBf,EAAM,uBAAuB,CAAC,KAGjEiB,EACJF,EAAO,uBAAuBf,EAAM,eAAe,CAAC,EAAE,CAAC,EAAE,WACzDe,EAAO,WAET,GAAI,CAACC,EAAO,OAAQ,OAEpB,MAAME,EAAaF,EAAO,CAAC,EAAE,WAAaD,EAAO,WAAaE,EAE9DH,EAAW,WAAaI,GAG1B,OAAAC,EAAc,IAAM,CAClBjB,EAAM,SAAS,MAAQH,EAAM,QAC/B,CAAC,EAEDqB,EAAU,IAAM,CACdR,GACF,CAAC,EAEDS,EACE,IAAMtB,EAAM,SACXuB,GAAQ,CACPpB,EAAM,SAAS,MAAQoB,CACzB,GAGFC,EAAQ,oBAAqBvB,CAAK,EAClCuB,EAAQ,SAAU,CAChB,SAAUrB,EAAM,QAClB,CAAC,EAEM,CACL,SAAAE,EACA,KAAAE,EACA,iBAAAC,EACA,aAAAG,EACA,eAAAE,EAEH,CACH,4DAIEY,EAyBM,MAAA,CAxBH,MAAKC,EAAA,CAAUC,EAAM,OAAA,SAAA,GAA8B,CAAAA,EAAA,yBAA0BC,EAAI,MAAWD,EAAM,OAAA,iBAAkBC,EAAI,IAAA,EAAA,CAAA,EAAMA,EAAI,MAAiBC,EAAA,iBAAiB,SASrKC,EAcM,MAAA,CAdA,MAAQJ,EAAA,CAAAC,EAAA,OAA0B,gBAAA,EAAAE,EAAA,iBAAiB,KAAK,CAAA,IAC5DE,EAYYC,EAAA,CAXV,IAAI,WACJ,2BAAyB,QACxB,MAAQN,EAAA,CAAAC,EAAA,OAA6B,mBAAA,EAAAE,EAAA,iBAAiB,QAAQ,CAAA,cAE/D,IAMY,EANZI,EAAA,EAAAC,EAMYC,EALLN,EAAY,YAAA,EAAA,CACjB,IAAI,OACH,MAAQH,EAAA,CAAAC,EAAA,OAAyB,eAAA,EAAAE,EAAA,iBAAiB,IAAI,CAAA,cAEvD,IAAQ,CAARO,EAAQT,EAAA,OAAA,SAAA,+GC7IZ/B,EAAoB,KAAO,CAC/B,KAAM,GACN,OAAQ,GACR,KAAM,EACR,GAEKC,EAAU,CACb,aAAc,GACd,MAAO,CACL,WAAY,CACV,KAAM,OACN,SAAU,CACR,OAAOD,EAAiB,CACzB,CACF,EACD,KAAM,CACJ,KAAM,OACN,QAAS,IACV,EACD,QAAS,CACP,KAAM,OACN,QAAS,KACV,EACD,OAAQ,CACN,KAAM,QACN,QAAS,EACV,EACD,SAAU,CACR,KAAM,QACN,QAAS,EACV,CACF,EACD,MAAMI,EAAO,CACX,MAAMqC,EAAcC,EAAO,mBAAmB,EACxCC,EAASD,EAAO,SAAU,CAAE,CAAA,EAE5B9B,EAAmBC,EAAS,IAAM,CACtC,KAAM,CAAE,WAAAC,CAAW,EAAIV,EACvB,OAAO,OAAO,OAAOJ,EAAmB,EAAEc,CAAU,CACtD,CAAC,EAEK8B,EAAmB/B,EAAS,IAAM,CACtC,KAAM,CAAE,SAAAG,GAAa2B,EACrB,OAAO3B,EAAS,MAAQ6B,EAAc,IACxC,CAAC,EAEKC,EAAqBjC,EAAS,IAAM,CACxC,KAAM,CAAE,SAAAG,GAAa2B,EACf,CAAE,QAAAI,CAAU,EAAE3C,EACpB,OAAOY,EAAS,MACZ,MACA+B,IAAY,aACZC,EACAD,CACN,CAAC,EAEKE,EAAepC,EAAS,IAAM,CAClC,KAAM,CAAE,SAAAG,GAAa2B,EACf,CAAE,SAAAO,CAAW,EAAE9C,EACrB,OAAQY,EAAS,OAASkC,GAAa,IACzC,CAAC,EAEKC,EAAiBtC,EAAS,IAAM,CACpC,KAAM,CAAE,SAAAG,GAAa2B,EACf,CAAE,QAAAI,EAAS,SAAAG,CAAW,EAAE9C,EAC9B,OAAOY,EAAS,MAAQ,KAAO+B,IAAY,SAAWG,EAAW,IACnE,CAAC,EAED,MAAO,CACL,YAAAT,EACA,iBAAA7B,EACA,iBAAAgC,EACA,mBAAAE,EACA,aAAAG,EACA,eAAAE,EAEH,CACH,0BAIE,OAAAd,EAAA,EAAAC,EAwBYC,EAvBLN,EAAgB,gBAAA,EAAA,CACpB,MAAKH,EAAA,CAAUG,EAAW,YAAA,eAAA,GAAoC,CAAAA,EAAA,sCAAuCD,EAAM,OAAW,CAAAC,EAAA,wCAAyCD,EAAQ,UAAiBC,EAAA,iBAAiB,OAQzM,KAAMD,EAAI,KACV,SAAUC,EAAY,yBAEvB,IAUY,EAVZI,EAAA,EAAAC,EAUYC,EATLN,EAAA,kBAAkB,EADzBmB,EAEUrB,EAAM,OAAA,CACb,MAAQ,CAAAE,EAAA,YAAgC,iBAAA,EAAAA,EAAA,iBAAiB,MAAM,EAC/D,MAAOD,EAAM,OAAA,OAAA,KACb,SAAUC,EAAc,4BAEzB,IAEO,CAFPC,EAEO,OAAA,CAFA,MAAQJ,EAAA,CAAAG,EAAA,YAA8B,eAAA,EAAAA,EAAA,iBAAiB,IAAI,CAAA,IAChEO,EAAQT,EAAA,OAAA,SAAA"}