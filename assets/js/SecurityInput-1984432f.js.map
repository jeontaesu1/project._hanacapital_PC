{"version":3,"file":"SecurityInput-1984432f.js","sources":["../../../../src/components/ui/form/SecurityInput.vue"],"sourcesContent":["<script>\nimport { computed, inject, watch, onMounted } from 'vue';\n\nconst defaultClassNames = () => ({\n  wrap: '',\n  button: '',\n  dot: '',\n  active: '',\n  type: '',\n});\n\nexport default {\n  inheritAttrs: false,\n  props: {\n    classNames: {\n      Type: Object,\n      default() {\n        return defaultClassNames();\n      },\n    },\n    theme: {\n      Type: String,\n      default: null,\n    },\n    dot: {\n      Type: Array,\n      default: [],\n    },\n    isFocused: {\n      Type: Boolean,\n      default: false,\n    },\n  },\n  setup(props) {\n    const formListItem = inject('formListItem', {});\n    const inputBlock = inject('inputBlock', {});\n\n    const customClassNames = computed(() => {\n      const { classNames } = props;\n      return Object.assign(defaultClassNames(), classNames);\n    });\n\n    const value = computed(() => {\n      const { dot } = props;\n      return dot.indexOf(true) === -1 ? null : dot;\n    });\n\n    watch(\n      () => props.isFocused,\n      (cur) => {\n        if (formListItem && formListItem.selectFocus) {\n          formListItem.selectFocus(cur);\n        }\n        if (inputBlock && inputBlock.selectFocus) {\n          inputBlock.selectFocus(cur);\n        }\n      }\n    );\n\n    watch(\n      () => props.dot,\n      () => {\n        if (formListItem && formListItem.checkInputed) {\n          formListItem.checkInputed();\n        }\n      }\n    );\n\n    onMounted(() => {\n      if (formListItem && formListItem.selectFocus) {\n        formListItem.selectFocus(props.isFocused);\n      }\n      if (inputBlock && inputBlock.selectFocus) {\n        inputBlock.selectFocus(props.isFocused);\n      }\n    });\n\n    return {\n      customClassNames,\n      value,\n    };\n  },\n};\n</script>\n\n<template>\n  <div\n    :class=\"[\n      $style['security-input'],\n      {\n        [$style[`security-input--theme-${theme}`]]: theme,\n      },\n      customClassNames.wrap,\n    ]\"\n  >\n    <input type=\"hidden\" :value=\"value\" />\n    <button\n      v-bind=\"$attrs\"\n      type=\"button\"\n      :class=\"[$style['security-input__button'], customClassNames.button]\"\n    >\n      <span\n        v-for=\"(item, i) in dot\"\n        :key=\"i\"\n        :class=\"[\n          $style['security-input__dot'],\n          {\n            [$style['security-input__dot--active']]: item,\n            [customClassNames.active]: item,\n          },\n          customClassNames.dot,\n        ]\"\n      />\n    </button>\n  </div>\n</template>\n\n<style lang=\"scss\" module>\n@import '@/assets/scss/components/ui/form/SecurityInput.scss';\n</style>\n"],"names":["defaultClassNames","_sfc_main","props","formListItem","inject","inputBlock","customClassNames","computed","classNames","value","dot","watch","cur","onMounted","_createElementBlock","_normalizeClass","_ctx","$props","$setup","_createElementVNode","_mergeProps","_openBlock","_Fragment","_renderList","item","i"],"mappings":"8XAGMA,EAAoB,KAAO,CAC/B,KAAM,GACN,OAAQ,GACR,IAAK,GACL,OAAQ,GACR,KAAM,EACR,GAEKC,EAAU,CACb,aAAc,GACd,MAAO,CACL,WAAY,CACV,KAAM,OACN,SAAU,CACR,OAAOD,EAAiB,CACzB,CACF,EACD,MAAO,CACL,KAAM,OACN,QAAS,IACV,EACD,IAAK,CACH,KAAM,MACN,QAAS,CAAE,CACZ,EACD,UAAW,CACT,KAAM,QACN,QAAS,EACV,CACF,EACD,MAAME,EAAO,CACX,MAAMC,EAAeC,EAAO,eAAgB,CAAE,CAAA,EACxCC,EAAaD,EAAO,aAAc,CAAE,CAAA,EAEpCE,EAAmBC,EAAS,IAAM,CACtC,KAAM,CAAE,WAAAC,CAAW,EAAIN,EACvB,OAAO,OAAO,OAAOF,EAAmB,EAAEQ,CAAU,CACtD,CAAC,EAEKC,EAAQF,EAAS,IAAM,CAC3B,KAAM,CAAE,IAAAG,CAAI,EAAIR,EAChB,OAAOQ,EAAI,QAAQ,EAAI,IAAM,GAAK,KAAOA,CAC3C,CAAC,EAED,OAAAC,EACE,IAAMT,EAAM,UACXU,GAAQ,CACHT,GAAgBA,EAAa,aAC/BA,EAAa,YAAYS,CAAG,EAE1BP,GAAcA,EAAW,aAC3BA,EAAW,YAAYO,CAAG,CAE9B,GAGFD,EACE,IAAMT,EAAM,IACZ,IAAM,CACAC,GAAgBA,EAAa,cAC/BA,EAAa,aAAY,CAE7B,GAGFU,EAAU,IAAM,CACVV,GAAgBA,EAAa,aAC/BA,EAAa,YAAYD,EAAM,SAAS,EAEtCG,GAAcA,EAAW,aAC3BA,EAAW,YAAYH,EAAM,SAAS,CAE1C,CAAC,EAEM,CACL,iBAAAI,EACA,MAAAG,EAEH,CACH,iDAIEK,EA4BM,MAAA,CA3BH,MAAKC,EAAA,CAAUC,EAAM,OAAA,gBAAA,IAAqCA,EAAM,OAAA,yBAA0BC,EAAK,KAAA,EAAA,CAAA,EAAMA,EAAK,OAAiBC,EAAA,iBAAiB,SAQ7IC,EAAsC,QAAA,CAA/B,KAAK,SAAU,MAAOD,EAAK,iBAClCC,EAiBS,SAjBTC,EAiBSJ,EAhBO,OAAA,CACd,KAAK,SACJ,MAAQ,CAAAA,EAAA,OAAkC,wBAAA,EAAAE,EAAA,iBAAiB,MAAM,MAElEG,EAAA,EAAA,EAAAP,EAWEQ,EAVoB,KAAAC,EAAAN,EAAA,IAAZ,CAAAO,EAAMC,SADhBX,EAWE,OAAA,CATC,IAAKW,EACL,MAAKV,EAAA,CAAcC,EAAM,OAAA,qBAAA,GAAkD,CAAAA,EAAA,uCAAwCQ,GAAmBN,EAAgB,iBAAC,MAAM,EAAGM,GAA6BN,EAAA,iBAAiB"}