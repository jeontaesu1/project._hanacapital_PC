import{u as F,r as K,b as S,e as y,D as E,f as M,E as j,z,q as D,h as L,o as r,c as d,i as O,w as q,a as b,H as A,n as _,v as G,G as m,t as v,m as H}from"./vendor-97c83ce9.js";import{F as P}from"./FormInvalid-791b85ec.js";import{_ as U}from"./index-e51d35be.js";const J="_input_1b178_1",Q="_input__block_1b178_4",R="_input__input_1b178_7",W="_input__bottom_1b178_138",X="_input__count_1b178_146",Y="_input__help_1b178_157",Z="_input__invalid_1b178_157",x={input:J,input__block:Q,input__input:R,"input__input--align-left":"_input__input--align-left_1b178_77","input__input--align-center":"_input__input--align-center_1b178_80","input__input--align-right":"_input__input--align-right_1b178_83","input--error":"_input--error_1b178_135",input__bottom:W,"input__bottom-left":"_input__bottom-left_1b178_142",input__count:X,"input__count-current":"_input__count-current_1b178_154",input__help:Y,input__invalid:Z,"input--focus":"_input--focus_1b178_160","input--inputed":"_input--inputed_1b178_160","input--disabled":"_input--disabled_1b178_163"},g=()=>({wrap:"",block:"",input:"",bottom:"",bottomLeft:"",count:"",countCurrent:""}),$={components:{FormInvalid:P},inheritAttrs:!1,props:{classNames:{Type:Object,default(){return g()}},type:{Type:String,default:"text"},maxlength:{Type:Number,default:null},readonly:{Type:Boolean,default:!1},disabled:{Type:Boolean,default:!1},align:{Type:String,default:null},defaultValue:{Type:String,default:null},modelValue:{Type:String},count:{Type:Boolean,default:!1},error:{Type:Boolean,default:!1}},setup(n,{slots:o,emit:e}){let t=null;const p=F(),s=K({isFocus:!1,isInputed:!1,val:"",count:n.modelValue?n.modelValue.length:0}),a=S(null),l=y(()=>{const{classNames:u}=n;return Object.assign(g(),u)}),C=y(()=>!!o.bottom),h=()=>a.value,I=()=>{a.value.focus()},i=()=>{const{maxlength:u}=n;if(typeof u!="number")return;const c=a.value.value;if(c.length>u){a.value.value=c.substr(0,u);const w=new Event("input");a.value.dispatchEvent(w)}},f=()=>{const u=a.value.value.length;s.isInputed=!!u,s.count=u},k=()=>{clearTimeout(t),i(),s.isFocus=!0,s.isInputed=!!a.value.value.length},N=()=>{clearTimeout(t),i(),t=setTimeout(()=>{s.isFocus=!1,clearTimeout(t)},50)},T=u=>{const{value:c}=u.target;s.val=c,e("update:modelValue",c)},B=()=>{i()},V=()=>{i(),f()};return E(()=>{s.val=n.modelValue||n.defaultValue||""}),M(()=>{i(),f()}),j(()=>{i()}),z(()=>n.modelValue,u=>{s.val=u,H(()=>{f()})}),D("simpleInput",{helpClass:p.input__help,invalidClass:p.input__invalid}),{state:s,input:a,customClassNames:l,isBottom:C,getInputElement:h,focus:I,onfocusin:k,onInput:T,onKeydown:B,onKeyup:V,onfocusout:N}}},tt=["type","value","disabled","readonly"],nt={key:0};function et(n,o,e,t,p,s){const a=L("FormInvalid");return r(),d("div",{class:_([n.$style.input,{[n.$style["input--focus"]]:t.state.isFocus,[n.$style["input--inputed"]]:t.state.isInputed,[n.$style["input--error"]]:e.error,[n.$style["input--disabled"]]:e.disabled},t.customClassNames.wrap])},[O(a,{error:e.error,disabled:e.disabled},{default:q(()=>[b("div",{class:_([n.$style.input__block,t.customClassNames.block]),onFocusin:o[3]||(o[3]=(...l)=>t.onfocusin&&t.onfocusin(...l)),onFocusout:o[4]||(o[4]=(...l)=>t.onfocusout&&t.onfocusout(...l))},[b("input",A({ref:"input"},n.$attrs,{type:e.type,class:[n.$style.input__input,{[n.$style[`input__input--align-${e.align}`]]:e.align},t.customClassNames.input],value:e.modelValue||t.state.val,disabled:e.disabled,readonly:e.readonly,onInput:o[0]||(o[0]=(...l)=>t.onInput&&t.onInput(...l)),onKeydown:o[1]||(o[1]=(...l)=>t.onKeydown&&t.onKeydown(...l)),onKeyup:o[2]||(o[2]=(...l)=>t.onKeyup&&t.onKeyup(...l))}),null,16,tt)],34),t.isBottom||e.count?(r(),d("div",{key:0,class:_([n.$style.input__bottom,t.customClassNames.bottom])},[t.isBottom?(r(),d("div",{key:0,class:_([n.$style["input__bottom-left"],t.customClassNames.bottom])},[G(n.$slots,"bottom")],2)):m("",!0),e.count?(r(),d("div",{key:1,class:_([n.$style.input__count,t.customClassNames.bottom])},[b("span",{class:_([n.$style["input__count-current"],t.customClassNames.countCurrent])},v(t.state.count),3),e.maxlength?(r(),d("span",nt,"/"+v(e.maxlength),1)):m("",!0)],2)):m("",!0)],2)):m("",!0)]),_:3},8,["error","disabled"])],2)}const ot={$style:x},at=U($,[["render",et],["__cssModules",ot]]);export{at as S};
//# sourceMappingURL=SimpleInput-5b218cf3.js.map
