{"version":3,"file":"UiTabButton-1184d790.js","sources":["../../../../src/components/ui/tab/UiTabList.vue","../../../../src/components/ui/tab/UiTabButton.vue"],"sourcesContent":["<script>\nimport { ref, computed, inject } from 'vue';\n\nconst defaultClassNames = () => ({\n  list: '',\n});\n\nexport default {\n  props: {\n    classNames: {\n      Type: Object,\n      default() {\n        return defaultClassNames();\n      },\n    },\n  },\n  setup(props) {\n    const styleModule = inject('uiTabStyleModule');\n\n    const el = ref(null);\n\n    const customClassNames = computed(() => {\n      const { classNames } = props;\n      return Object.assign(defaultClassNames(), classNames);\n    });\n\n    return {\n      styleModule,\n      el,\n      customClassNames,\n    };\n  },\n};\n</script>\n\n<template>\n  <div\n    ref=\"el\"\n    :class=\"[styleModule['tab__list'], customClassNames.list]\"\n    role=\"tablist\"\n  >\n    <slot />\n  </div>\n</template>\n","<script>\nimport { ref, computed, inject, onMounted, onBeforeUnmount, watch } from 'vue';\n\nconst defaultClassNames = () => ({\n  button: '',\n});\n\nexport default {\n  props: {\n    classNames: {\n      Type: Object,\n      default() {\n        return defaultClassNames();\n      },\n    },\n    link: {\n      Type: String,\n      required: true,\n    },\n    disabled: {\n      Type: Boolean,\n      default: false,\n    },\n  },\n  setup(props) {\n    const styleModule = inject('uiTabStyleModule', {});\n    const uiTab = inject('uiTab', {});\n\n    const button = ref(null);\n\n    const customClassNames = computed(() => {\n      const { classNames } = props;\n      return Object.assign(defaultClassNames(), classNames);\n    });\n\n    const isActive = computed(() => {\n      return uiTab.activeName && uiTab.activeName.value;\n    });\n\n    const open = (isFocus) => {\n      const { disabled } = props;\n\n      if (disabled) return;\n\n      if (isFocus) {\n        button.value.focus();\n      }\n    };\n\n    const click = () => {\n      const { disabled } = props;\n\n      if (disabled) return;\n\n      if (uiTab.open) {\n        uiTab.open(props.link);\n      }\n    };\n\n    const keydown = (e) => {\n      const { disabled } = props;\n\n      if (disabled) return;\n\n      const { keyCode } = e;\n\n      if ([13, 32, 35, 36, 37, 38, 39, 40].indexOf(keyCode) > -1) {\n        e.preventDefault();\n      }\n    };\n\n    const keyup = (e) => {\n      const { disabled } = props;\n\n      if (disabled) return;\n\n      const { keyCode } = e;\n\n      switch (keyCode) {\n        case 35:\n          uiTab.end();\n          break;\n        case 36:\n          uiTab.start();\n          break;\n        case 37:\n        case 38:\n          uiTab.prev();\n          break;\n        case 39:\n        case 40:\n          uiTab.next();\n          break;\n        case 13:\n        case 32:\n          uiTab.open(props.link);\n          break;\n        default:\n          break;\n      }\n    };\n\n    onMounted(() => {\n      if (uiTab && uiTab.buttonsAdd) {\n        uiTab.buttonsAdd({\n          key: props.link,\n          disabled: props.disabled,\n          open,\n        });\n      }\n    });\n\n    onBeforeUnmount(() => {\n      if (uiTab && uiTab.buttonsRemove) {\n        uiTab.buttonsRemove(props.link);\n      }\n    });\n\n    watch(\n      () => props.link,\n      (cur, pre) => {\n        uiTab.buttonsUpdate(pre, {\n          key: cur,\n        });\n      }\n    );\n\n    watch(\n      () => props.disabled,\n      (cur) => {\n        uiTab.buttonsUpdate(props.link, {\n          disabled: cur,\n        });\n      }\n    );\n\n    return {\n      styleModule,\n      button,\n      customClassNames,\n      isActive,\n      click,\n      keydown,\n      keyup,\n    };\n  },\n};\n</script>\n\n<template>\n  <div\n    ref=\"button\"\n    :class=\"[\n      styleModule['tab__button'],\n      {\n        'is-tab-opened': isActive === link,\n      },\n      customClassNames.button,\n    ]\"\n    role=\"tab\"\n    :tabindex=\"isActive === link && !disabled ? '0' : '-1'\"\n    :aria-selected=\"isActive === link ? 'true' : 'false'\"\n    :aria-controls=\"`${link}_panel`\"\n    :id=\"`${link}_tab`\"\n    :aria-disabled=\"disabled\"\n    @click=\"click\"\n    @keydown=\"keydown\"\n    @keyup=\"keyup\"\n  >\n    <slot />\n  </div>\n</template>\n"],"names":["defaultClassNames","_sfc_main","props","styleModule","inject","el","ref","customClassNames","computed","classNames","_createElementBlock","_normalizeClass","$setup","_renderSlot","_ctx","uiTab","button","isActive","open","isFocus","disabled","click","keydown","e","keyCode","keyup","onMounted","onBeforeUnmount","watch","cur","pre","$props","args"],"mappings":"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"}