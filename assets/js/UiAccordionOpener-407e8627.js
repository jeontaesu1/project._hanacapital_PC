import{r as N,e as g,f as B,z as r,q as T,u as V,o as k,k as S,w as x,v as M,n as O,M as I,C as y,D as E,g as U,b as P,m as w,h as R,c as z,i as q,a as G,t as J}from"./vendor-97c83ce9.js";import{_ as b,e as K}from"./index-e4de09d6.js";const Q="_accordion_1dpjc_1",W="_accordion__item_1dpjc_6",X="_accordion__layer_1dpjc_9",Y="_accordion__opener_1dpjc_23",Z={accordion:Q,accordion__item:W,accordion__layer:X,accordion__opener:Y,"accordion__opener-text":"_accordion__opener-text_1dpjc_72"},F=()=>({wrap:""}),j=350,ee={props:{tagName:{Type:String,default:"ul"},classNames:{Type:Object,default(){return F()}},once:{Type:Boolean,default:!1},defaultSpeed:{Type:Number,default:j},onBeforeOpened:{Type:Function,default(){return()=>{}}},onOpened:{Type:Function,default(){return()=>{}}},onAfterOpened:{Type:Function,default(){return()=>{}}},onBeforeClosed:{Type:Function,default(){return()=>{}}},onClosed:{Type:Function,default(){return()=>{}}},onAfterClosed:{Type:Function,default(){return()=>{}}}},setup(t){const n=N({items:[],count:0,defaultSpeed:{value:j},once:{value:!1},callback:{}}),c=g(()=>{const{classNames:o}=t;return Object.assign(F(),o)}),e=o=>{const i=o.key||n.count;return n.items.push(Object.assign({},o,{key:i})),n.count++,i},s=o=>{const i=n.items.findIndex(C=>C.key===o);n.items.splice(i,1)},l=o=>{t.once?n.items[0]&&n.items[0].open(o):n.items.forEach(i=>{i.open(o)})},d=o=>{n.items.forEach(i=>{i.close(o)})};return B(()=>{n.defaultSpeed.value=t.defaultSpeed,n.once.value=t.once,n.callback.onBeforeOpened=t.onBeforeOpened,n.callback.onOpened=t.onOpened,n.callback.onAfterOpened=t.onAfterOpened,n.callback.onBeforeClosed=t.onBeforeClosed,n.callback.onClosed=t.onClosed,n.callback.onAfterClosed=t.onAfterClosed}),r(()=>t.defaultSpeed,o=>{n.defaultSpeed.value=o}),r(()=>t.once,o=>{n.once.value=o}),r(()=>t.onBeforeOpened,o=>{n.callback.onBeforeOpened=o}),r(()=>t.onOpened,o=>{n.callback.onOpened=o}),r(()=>t.onAfterOpened,o=>{n.callback.onAfterOpened=o}),r(()=>t.onBeforeClosed,o=>{n.callback.onBeforeClosed=o}),r(()=>t.onClosed,o=>{n.callback.onClosed=o}),r(()=>t.onAfterClosed,o=>{n.callback.onAfterClosed=o}),T("uiAccordionStyleModule",V()),T("uiAccordion",{items:n.items,itemsAdd:e,itemsRemove:s,openedClassName:"is-accordion-opened",defaultSpeed:n.defaultSpeed,once:n.once,callback:n.callback}),{state:n,customClassNames:c,allOpen:l,allClose:d}}};function oe(t,n,c,e,s,l){return k(),S(I(c.tagName),{class:O([t.$style.accordion,e.customClassNames.wrap])},{default:x(()=>[M(t.$slots,"default",{allOpen:e.allOpen,allClose:e.allClose,items:e.state.items})]),_:3},8,["class"])}const ne={$style:Z},ue=b(ee,[["render",oe],["__cssModules",ne]]),D=()=>({item:""}),te={props:{tagName:{Type:String,default:"li"},classNames:{Type:Object,default(){return D()}},initialOpen:{Type:Boolean,default:!1},keyName:{Type:String,default:null},onBeforeOpened:{Type:Function,default(){return()=>{}}},onOpened:{Type:Function,default(){return()=>{}}},onAfterOpened:{Type:Function,default(){return()=>{}}},onBeforeClosed:{Type:Function,default(){return()=>{}}},onClosed:{Type:Function,default(){return()=>{}}},onAfterClosed:{Type:Function,default(){return()=>{}}}},setup(t){const n=y("uiAccordionStyleModule"),c=y("uiAccordion",{}),e=N({opened:{value:!1},key:null,layer:null,callback:{},initialOpen:{value:!1}}),s=g(()=>{const{classNames:a}=t;return Object.assign(D(),a)}),l=()=>e.layer,d=a=>{e.layer=a},o=()=>{e.layer=null},i=a=>{e.opened.value=a},C=()=>e.opened.value,v=a=>{e.opened.value||e.layer&&e.layer.open&&(c&&c.once&&c.once.value&&c.items&&c.items.forEach(m=>{m.key!==e.key&&m.close(a)}),e.layer.open(a))},u=a=>{e.opened.value&&e.layer&&e.layer.close&&e.layer.close(a)},p=a=>{e.opened.value?u(a):v(a)};return E(()=>{e.initialOpen.value=t.initialOpen,e.callback.onBeforeOpened=t.onBeforeOpened,e.callback.onOpened=t.onOpened,e.callback.onAfterOpened=t.onAfterOpened,e.callback.onBeforeClosed=t.onBeforeClosed,e.callback.onClosed=t.onClosed,e.callback.onAfterClosed=t.onAfterClosed}),B(()=>{c&&c.itemsAdd&&(e.key=c.itemsAdd({key:t.keyName,open:v,close:u,toggle:p,getOpened:C}))}),U(()=>{c&&c.itemsRemove&&c.itemsRemove(e.key)}),r(()=>t.initialOpen,a=>{e.initialOpen.value=a}),r(()=>t.onBeforeOpened,a=>{e.callback.onBeforeOpened=a}),r(()=>t.onOpened,a=>{e.callback.onOpened=a}),r(()=>t.onAfterOpened,a=>{e.callback.onAfterOpened=a}),r(()=>t.onBeforeClosed,a=>{e.callback.onBeforeClosed=a}),r(()=>t.onClosed,a=>{e.callback.onClosed=a}),r(()=>t.onAfterClosed,a=>{e.callback.onAfterClosed=a}),T("uiAccordionItem",{opened:e.opened,initialOpen:e.initialOpen,getLayer:l,setLayer:d,clearLayer:o,setOpened:i,open:v,close:u,toggle:p,callback:e.callback}),{uiAccordion:c,styleModule:n,state:e,customClassNames:s,open:v,close:u,toggle:p}}};function le(t,n,c,e,s,l){return k(),S(I(c.tagName),{class:O([e.styleModule.accordion__item,{[e.uiAccordion.openedClassName]:e.state.opened.value},e.customClassNames.item])},{default:x(()=>[M(t.$slots,"default",{open:e.open,close:e.close,toggle:e.toggle,opened:e.state.opened.value})]),_:3},8,["class"])}const fe=b(te,[["render",le]]),$=()=>({layer:""}),f=(t,n)=>{t&&t.callback&&t.callback[n]&&t.callback[n]()},ae={props:{tagName:{Type:String,default:"div"},classNames:{Type:Object,default(){return $()}}},setup(t){let n=null,c=!1;const e=y("uiAccordionStyleModule"),s=y("uiAccordion",{}),l=y("uiAccordionItem",{}),d=N({opened:!1}),o=P(null),i=g(()=>{const{classNames:u}=t;return Object.assign($(),u)}),C=u=>{if(d.opened)return;const p=(()=>typeof u=="number"?u:s&&s.defaultSpeed&&s.defaultSpeed.value?s.defaultSpeed.value:0)(),{openedClassName:a}=s,m=getComputedStyle(o.value);f(s,"onBeforeOpened"),f(l,"onBeforeOpened"),clearTimeout(n);let _=null;m.getPropertyValue("display")!=="none"&&(_=o.value.offsetHeight),o.value.style.transitionDuration="0ms",o.value.style.height=null,o.value.classList.add(a);const A=m.getPropertyValue("display"),L=o.value.offsetHeight;o.value.classList.remove(a),o.value.style.display=A,_||(_=o.value.offsetHeight),_!==L&&(o.value.style.height=`${_}px`,o.value.style.overflow="hidden",d.opened=!0,l&&l.setOpened&&l.setOpened(!0),w(()=>{n=setTimeout(()=>{f(s,"onOpened"),f(l,"onOpened"),o.value.style.transitionDuration=`${p}ms`,o.value.style.height=`${L}px`,clearTimeout(n),n=setTimeout(()=>{o.value.style.display=null,o.value.style.height=null,o.value.style.overflow=null,f(s,"onAfterOpened"),f(l,"onAfterOpened"),clearTimeout(n)},p)},0)}))},v=u=>{if(!d.opened)return;const p=(()=>typeof u=="number"?u:s&&s.defaultSpeed&&s.defaultSpeed.value?s.defaultSpeed.value:0)(),{openedClassName:a}=s,m=getComputedStyle(o.value);f(s,"onBeforeClosed"),f(l,"onBeforeClosed"),clearTimeout(n);const _=m.getPropertyValue("display"),h=o.value.offsetHeight;o.value.style.transitionDuration="0ms",o.value.style.height=null,o.value.style.display=_,o.value.classList.remove(a);const A=o.value.offsetHeight;o.value.classList.add(a),h!==A&&(o.value.style.height=`${h}px`,o.value.style.overflow="hidden",d.opened=!1,l&&l.setOpened&&l.setOpened(!1),w(()=>{n=setTimeout(()=>{f(s,"onClosed"),f(l,"onClosed"),o.value.style.transitionDuration=`${p}ms`,o.value.style.height=`${A}px`,clearTimeout(n),n=setTimeout(()=>{o.value.style.display=null,o.value.style.height=null,o.value.style.overflow=null,f(s,"onAfterClosed"),f(l,"onAfterClosed"),clearTimeout(n)},p)},0)}))};return B(()=>{l&&l.getLayer&&l.setLayer&&(l.getLayer()||(l.setLayer({open:C,close:v}),c=!0,l.initialOpen&&l.initialOpen.value&&(d.opened=!0,l.setOpened&&l.setOpened(!0))))}),U(()=>{c&&l&&l.clearLayer&&l.clearLayer()}),{state:d,uiAccordion:s,styleModule:e,layer:o,customClassNames:i}}};function se(t,n,c,e,s,l){return k(),S(I(c.tagName),{ref:"layer",class:O([e.styleModule.accordion__layer,{[e.uiAccordion.openedClassName]:e.state.opened},e.customClassNames.layer])},{default:x(()=>[M(t.$slots,"default")]),_:3},8,["class"])}const pe=b(ae,[["render",se]]),H=()=>({button:"",text:""}),ce={components:{IconArrow:K},props:{classNames:{Type:Object,default(){return H()}},text:{Type:String,default:"하위 내용"},openText:{Type:String,default:"펼치기"},closeText:{Type:String,default:"접기"}},setup(t){const n=y("uiAccordionStyleModule"),c=y("uiAccordion",{}),e=y("uiAccordionItem",{}),s=g(()=>{const{classNames:l}=t;return Object.assign(H(),l)});return{styleModule:n,customClassNames:s,uiAccordion:c,uiAccordionItem:e}}};function re(t,n,c,e,s,l){const d=R("IconArrow");return k(),z("button",{type:"button",class:O([e.styleModule.accordion__opener,{[e.uiAccordion.openedClassName]:e.uiAccordionItem.opened.value},e.customClassNames.button]),onClick:n[0]||(n[0]=o=>e.uiAccordionItem.toggle())},[q(d),G("span",{class:O([e.styleModule["accordion__opener-text"],e.customClassNames.text])}," 하위 내용 "+J(e.uiAccordionItem.opened.value?"접기":"펼치기"),3)],2)}const ye=b(ce,[["render",re]]);export{ue as U,fe as a,pe as b,ye as c};
//# sourceMappingURL=UiAccordionOpener-407e8627.js.map
