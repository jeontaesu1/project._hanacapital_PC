{"version":3,"file":"ModalPopupHead-1e5807c1.js","sources":["../../../../src/components/ui/layer/ModalPopup.vue","../../../../src/components/ui/layer/ModalPopupHead.vue"],"sourcesContent":["<script>\nimport {\n  computed,\n  useCssModule,\n  provide,\n  reactive,\n  ref,\n  onMounted,\n  onBeforeMount,\n  onUpdated,\n} from 'vue';\nimport Simplebar from 'simplebar-vue';\n\nconst defaultClassNames = () => ({\n  wrap: '',\n  outerBottom: '',\n  bgBottom: '',\n  head: '',\n  body: '',\n  bodyInner: '',\n  bodyScroll: '',\n  foot: '',\n});\n\nconst isSlot = (slot) => {\n  if (!slot || typeof slot !== 'function') return false;\n\n  const items = slot();\n  let vIfLength = 0;\n\n  items.forEach((item) => item.children === 'v-if' && vIfLength++);\n\n  return items.length !== vIfLength;\n};\n\nexport default {\n  components: {\n    Simplebar,\n  },\n  props: {\n    classNames: {\n      Type: Object,\n      default() {\n        return defaultClassNames();\n      },\n    },\n    bg: {\n      Type: String,\n      default: null,\n    },\n    fix: {\n      Type: Boolean,\n      default: false,\n    },\n    size: {\n      Type: String,\n      default: null,\n    },\n    line: {\n      Type: String,\n      default: null,\n    },\n  },\n  setup(props, { slots }) {\n    const state = reactive({\n      head: {\n        value: null,\n      },\n      body: {\n        value: null,\n      },\n      bodyScroll: {\n        value: null,\n      },\n      slots: {},\n    });\n\n    const head = ref(null);\n    const body = ref(null);\n    const bodyScroll = ref(null);\n\n    const customClassNames = computed(() => {\n      const { classNames } = props;\n      return Object.assign(defaultClassNames(), classNames);\n    });\n\n    const isOuterBottom = computed(() => {\n      return isSlot(state.slots.outerBottom);\n    });\n\n    const isBgBottom = computed(() => {\n      return isSlot(state.slots.bgBottom);\n    });\n\n    const isHead = computed(() => {\n      return isSlot(state.slots.head);\n    });\n\n    const isFoot = computed(() => {\n      return isSlot(state.slots.foot);\n    });\n\n    onMounted(() => {\n      state.head.value = head;\n      state.body.value = body;\n      state.bodyScroll.value = bodyScroll;\n    });\n\n    onBeforeMount(() => {\n      state.slots.outerBottom = slots.outerBottom;\n      state.slots.bgBottom = slots.bgBottom;\n      state.slots.head = slots.head;\n      state.slots.foot = slots.foot;\n    });\n\n    onUpdated(() => {\n      state.slots.outerBottom = slots.outerBottom;\n      state.slots.bgBottom = slots.bgBottom;\n      state.slots.head = slots.head;\n      state.slots.foot = slots.foot;\n    });\n\n    provide('popupStyleModule', useCssModule());\n    provide('popupLayout', {\n      head: state.head,\n      body: state.body,\n      bodyScroll: state.bodyScroll,\n    });\n\n    return {\n      head,\n      body,\n      bodyScroll,\n      customClassNames,\n      isOuterBottom,\n      isBgBottom,\n      isHead,\n      isFoot,\n    };\n  },\n};\n</script>\n\n<template>\n  <div\n    :class=\"[\n      $style['popup'],\n      {\n        [$style[`popup--bg-${bg}`]]: bg,\n        [$style['popup--fix']]: fix,\n        [$style[`popup--size-${size}`]]: size,\n        [$style[`popup--line-${line}`]]: line,\n      },\n      customClassNames.wrap,\n    ]\"\n  >\n    <div\n      v-if=\"isHead\"\n      ref=\"head\"\n      :class=\"[$style['popup__head'], customClassNames.head]\"\n    >\n      <slot name=\"head\" />\n    </div>\n    <div ref=\"body\" :class=\"[$style['popup__body'], customClassNames.body]\">\n      <Simplebar\n        ref=\"bodyScroll\"\n        data-simplebar-auto-hide=\"false\"\n        :class=\"[$style['popup__body-scroll'], customClassNames.bodyScroll]\"\n      >\n        <div :class=\"[$style['popup__body-inner'], customClassNames.bodyInner]\">\n          <slot />\n        </div>\n      </Simplebar>\n    </div>\n    <div v-if=\"isFoot\" :class=\"[$style['popup__foot'], customClassNames.foot]\">\n      <slot name=\"foot\" />\n    </div>\n    <div\n      v-if=\"isBgBottom\"\n      :class=\"[$style['popup__bg-bottom'], customClassNames.bgBottom]\"\n    >\n      <slot name=\"bgBottom\" />\n    </div>\n    <div\n      v-if=\"isOuterBottom\"\n      :class=\"[$style['popup__outer-bottom'], customClassNames.outerBottom]\"\n    >\n      <slot name=\"outerBottom\" />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" module>\n@import '@/assets/scss/components/ui/layer/ModalPopup.scss';\n</style>\n","<script>\nimport { computed, inject, reactive, onBeforeMount, onUpdated } from 'vue';\n\nconst defaultClassNames = () => ({\n  wrap: '',\n  row: '',\n  left: '',\n  right: '',\n  sub: '',\n});\n\nconst isSlot = (slot) => {\n  if (!slot || typeof slot !== 'function') return false;\n\n  const items = slot();\n  let vIfLength = 0;\n\n  items.forEach((item) => item.children === 'v-if' && vIfLength++);\n\n  return items.length !== vIfLength;\n};\n\nexport default {\n  props: {\n    classNames: {\n      Type: Object,\n      default() {\n        return defaultClassNames();\n      },\n    },\n  },\n  setup(props, { slots }) {\n    const styleModule = inject('popupStyleModule');\n\n    const state = reactive({\n      slots: {},\n    });\n\n    const customClassNames = computed(() => {\n      const { classNames } = props;\n      return Object.assign(defaultClassNames(), classNames);\n    });\n\n    const isRight = computed(() => {\n      return isSlot(state.slots.right);\n    });\n\n    const isSub = computed(() => {\n      return isSlot(state.slots.sub);\n    });\n\n    onBeforeMount(() => {\n      state.slots.right = slots.right;\n      state.slots.sub = slots.sub;\n    });\n\n    onUpdated(() => {\n      state.slots.right = slots.right;\n      state.slots.sub = slots.sub;\n    });\n\n    return {\n      styleModule,\n      customClassNames,\n      isRight,\n      isSub,\n    };\n  },\n};\n</script>\n\n<template>\n  <div :class=\"[styleModule['popup__header'], customClassNames.wrap]\">\n    <div :class=\"[styleModule['popup__header-row'], customClassNames.row]\">\n      <div :class=\"[styleModule['popup__header-left'], customClassNames.left]\">\n        <slot />\n      </div>\n      <div\n        v-if=\"isRight\"\n        :class=\"[styleModule['popup__header-right'], customClassNames.right]\"\n      >\n        <slot name=\"right\" />\n      </div>\n    </div>\n    <div\n      v-if=\"isSub\"\n      :class=\"[styleModule['popup__header-sub'], customClassNames.sub]\"\n    >\n      <slot name=\"sub\" />\n    </div>\n  </div>\n</template>\n"],"names":["defaultClassNames","isSlot","slot","items","vIfLength","item","_sfc_main","Simplebar","props","slots","state","reactive","head","ref","body","bodyScroll","customClassNames","computed","classNames","isOuterBottom","isBgBottom","isHead","isFoot","onMounted","onBeforeMount","onUpdated","provide","useCssModule","_createElementBlock","_normalizeClass","_ctx","$props","$setup","_renderSlot","_createElementVNode","_createVNode","_component_Simplebar","styleModule","inject","isRight","isSub"],"mappings":"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"}