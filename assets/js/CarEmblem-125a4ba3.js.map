{"version":3,"file":"CarEmblem-125a4ba3.js","sources":["../../../../src/components/ui/imageData/CarEmblem.vue"],"sourcesContent":["<script>\nimport { computed, reactive, watch } from 'vue';\n\nconst BASE_URL = import.meta.env.BASE_URL;\n\nconst defaultClassNames = () => ({\n  wrap: '',\n  img: '',\n});\n\nexport default {\n  props: {\n    classNames: {\n      Type: Object,\n      default() {\n        return defaultClassNames();\n      },\n    },\n    size: {\n      Type: String,\n      default: null,\n    },\n    code: {\n      Type: String,\n      default: null,\n    },\n    src: {\n      Type: String,\n      default: null,\n    },\n    name: {\n      Type: String,\n      default: null,\n    },\n  },\n  setup(props) {\n    const state = reactive({\n      isError: false,\n    });\n\n    const customClassNames = computed(() => {\n      const { classNames } = props;\n      return Object.assign(defaultClassNames(), classNames);\n    });\n\n    const imgSrc = computed(() => {\n      const { code, src = '' } = props;\n\n      if (code) {\n        return `${BASE_URL}images/car-emblem/${code}.svg`;\n      } else if (typeof src === 'string' && src.length) {\n        if (src.match(/^\\//)) {\n          return BASE_URL + src.replace(/^\\//, '');\n        } else {\n          return src;\n        }\n      } else {\n        return '';\n      }\n    });\n\n    const onError = () => {\n      state.isError = true;\n    };\n\n    watch(\n      () => props.code,\n      () => {\n        state.isError = false;\n      }\n    );\n\n    watch(\n      () => props.src,\n      () => {\n        if (props.code) return;\n\n        state.isError = false;\n      }\n    );\n\n    return {\n      state,\n      customClassNames,\n      imgSrc,\n      onError,\n    };\n  },\n};\n</script>\n\n<template>\n  <span\n    :class=\"[\n      $style['car-emblem'],\n      {\n        'is-error': state.isError,\n        [$style[`car-emblem--size-${size}`]]: size,\n        [$style[`car-emblem--code`]]: code,\n      },\n      customClassNames.wrap,\n    ]\"\n  >\n    <img\n      v-if=\"imgSrc.length\"\n      :src=\"imgSrc\"\n      :alt=\"name\"\n      :class=\"[$style['car-emblem__img'], customClassNames.img]\"\n      @error=\"onError\"\n    />\n  </span>\n</template>\n\n<style lang=\"scss\" module>\n@import '@/assets/scss/components/ui/imageData/CarEmblem.scss';\n</style>\n"],"names":["BASE_URL","defaultClassNames","_sfc_main","props","state","reactive","customClassNames","computed","classNames","imgSrc","code","src","onError","watch","_createElementBlock","_normalizeClass","_ctx","$setup","$props","args"],"mappings":"+TAGMA,EAAW,4BAEXC,EAAoB,KAAO,CAC/B,KAAM,GACN,IAAK,EACP,GAEKC,EAAU,CACb,MAAO,CACL,WAAY,CACV,KAAM,OACN,SAAU,CACR,OAAOD,EAAiB,CACzB,CACF,EACD,KAAM,CACJ,KAAM,OACN,QAAS,IACV,EACD,KAAM,CACJ,KAAM,OACN,QAAS,IACV,EACD,IAAK,CACH,KAAM,OACN,QAAS,IACV,EACD,KAAM,CACJ,KAAM,OACN,QAAS,IACV,CACF,EACD,MAAME,EAAO,CACX,MAAMC,EAAQC,EAAS,CACrB,QAAS,EACX,CAAC,EAEKC,EAAmBC,EAAS,IAAM,CACtC,KAAM,CAAE,WAAAC,CAAW,EAAIL,EACvB,OAAO,OAAO,OAAOF,EAAmB,EAAEO,CAAU,CACtD,CAAC,EAEKC,EAASF,EAAS,IAAM,CAC5B,KAAM,CAAE,KAAAG,EAAM,IAAAC,EAAM,EAAG,EAAIR,EAE3B,OAAIO,EACK,GAAGV,CAAQ,qBAAqBU,CAAI,OAClC,OAAOC,GAAQ,UAAYA,EAAI,OACpCA,EAAI,MAAM,KAAK,EACVX,EAAWW,EAAI,QAAQ,MAAO,EAAE,EAEhCA,EAGF,EAEX,CAAC,EAEKC,EAAU,IAAM,CACpBR,EAAM,QAAU,IAGlB,OAAAS,EACE,IAAMV,EAAM,KACZ,IAAM,CACJC,EAAM,QAAU,EAClB,GAGFS,EACE,IAAMV,EAAM,IACZ,IAAM,CACAA,EAAM,OAEVC,EAAM,QAAU,GAClB,GAGK,CACL,MAAAA,EACA,iBAAAE,EACA,OAAAG,EACA,QAAAG,EAEH,CACH,qDAIEE,EAkBO,OAAA,CAjBJ,MAAKC,EAAA,CAAUC,EAAM,OAAA,YAAA,GAA4C,WAAAC,EAAA,MAAM,SAAkBD,EAAM,OAAA,oBAAqBE,EAAI,IAAA,EAAA,CAAA,EAAMA,EAAI,KAAW,CAAAF,EAAA,4BAA6BE,EAAI,MAAiBD,EAAA,iBAAiB,SAWzMA,EAAA,OAAO,YADfH,EAME,MAAA,OAJC,IAAKG,EAAM,OACX,IAAKC,EAAI,KACT,MAAQH,EAAA,CAAAC,EAAA,OAA2B,iBAAA,EAAAC,EAAA,iBAAiB,GAAG,CAAA,EACvD,4BAAOA,EAAO,SAAAA,EAAA,QAAA,GAAAE,CAAA"}