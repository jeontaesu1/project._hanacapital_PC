{"version":3,"file":"IframeContents-8eb6fe7b.js","sources":["../../../../src/components/ui/viewer/IframeContents.vue"],"sourcesContent":["<script>\nimport { ref, reactive, computed } from 'vue';\n\nconst defaultClassNames = () => ({\n  wrap: '',\n  frame: '',\n});\n\nexport default {\n  inheritAttrs: false,\n  props: {\n    classNames: {\n      Type: Object,\n      default() {\n        return defaultClassNames();\n      },\n    },\n    url: {\n      Type: String,\n      default: null,\n    },\n  },\n  setup(props) {\n    const iframe = ref(null);\n\n    const state = reactive({\n      height: 0,\n    });\n\n    const customClassNames = computed(() => {\n      const { classNames } = props;\n      return Object.assign(defaultClassNames(), classNames);\n    });\n\n    const update = () => {\n      const iframeEl = iframe.value;\n\n      iframeEl.style.height = '0';\n\n      const height = iframeEl.contentDocument.body.scrollHeight;\n\n      iframeEl.style.height = height + 'px';\n\n      state.height = height;\n    };\n\n    const load = () => {\n      update();\n    };\n\n    return {\n      iframe,\n      state,\n      customClassNames,\n      load,\n    };\n  },\n};\n</script>\n\n<template>\n  <div\n    :class=\"[$style['iframe-contents'], customClassNames.wrap]\"\n    :style=\"{\n      height: state.height + 'px',\n    }\"\n  >\n    <iframe\n      v-bind=\"$attrs\"\n      ref=\"iframe\"\n      :src=\"url\"\n      frameborder=\"0\"\n      scrolling=\"no\"\n      :class=\"[$style['iframe-contents__frame'], customClassNames.frame]\"\n      :style=\"{\n        height: state.height + 'px',\n      }\"\n      @load=\"load\"\n    ></iframe>\n  </div>\n</template>\n\n<style lang=\"scss\" module>\n@import '@/assets/scss/components/ui/viewer/IframeContents.scss';\n</style>\n"],"names":["defaultClassNames","_sfc_main","props","iframe","ref","state","reactive","customClassNames","computed","classNames","update","iframeEl","height","_createElementBlock","_normalizeClass","_ctx","$setup","_normalizeStyle","_createElementVNode","_mergeProps","$props","args"],"mappings":"2PAGMA,EAAoB,KAAO,CAC/B,KAAM,GACN,MAAO,EACT,GAEKC,EAAU,CACb,aAAc,GACd,MAAO,CACL,WAAY,CACV,KAAM,OACN,SAAU,CACR,OAAOD,EAAiB,CACzB,CACF,EACD,IAAK,CACH,KAAM,OACN,QAAS,IACV,CACF,EACD,MAAME,EAAO,CACX,MAAMC,EAASC,EAAI,IAAI,EAEjBC,EAAQC,EAAS,CACrB,OAAQ,CACV,CAAC,EAEKC,EAAmBC,EAAS,IAAM,CACtC,KAAM,CAAE,WAAAC,CAAW,EAAIP,EACvB,OAAO,OAAO,OAAOF,EAAmB,EAAES,CAAU,CACtD,CAAC,EAEKC,EAAS,IAAM,CACnB,MAAMC,EAAWR,EAAO,MAExBQ,EAAS,MAAM,OAAS,IAExB,MAAMC,EAASD,EAAS,gBAAgB,KAAK,aAE7CA,EAAS,MAAM,OAASC,EAAS,KAEjCP,EAAM,OAASO,GAOjB,MAAO,CACL,OAAAT,EACA,MAAAE,EACA,iBAAAE,EACA,KARW,IAAM,CACjBG,KASH,CACH,+CAIEG,EAkBM,MAAA,CAjBH,MAAQC,EAAA,CAAAC,EAAA,OAA2B,iBAAA,EAAAC,EAAA,iBAAiB,IAAI,CAAA,EACxD,MAAKC,EAAA,CAAkB,OAAAD,EAAA,MAAM,OAAM,SAIpCE,EAWU,SAXVC,EAWUJ,EAVM,OAAA,CACd,IAAI,SACH,IAAKK,EAAG,IACT,YAAY,IACZ,UAAU,KACT,MAAQ,CAAAL,EAAA,OAAkC,wBAAA,EAAAC,EAAA,iBAAiB,KAAK,EAChE,MAAK,CAAoB,OAAAA,EAAA,MAAM,OAAM,MAGrC,2BAAMA,EAAI,MAAAA,EAAA,KAAA,GAAAK,CAAA"}