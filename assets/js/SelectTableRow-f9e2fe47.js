import{s as F,r as R,b as h,e as k,f as E,z as S,q as C,u as I,h as L,o as u,c as _,a as d,t as H,n as i,v as f,G as g,i as O,w as V,C as z,D,g as j,m as N}from"./vendor-97c83ce9.js";import{_ as x}from"./index-2bd24162.js";const G={"basic-table":"_basic-table_vwqb1_1","al-text-left":"_al-text-left_vwqb1_63","basic-table__left-line":"_basic-table__left-line_vwqb1_82","basic-table--secondary":"_basic-table--secondary_vwqb1_85","select-table":"_select-table_vwqb1_109","select-table__caption":"_select-table__caption_vwqb1_116","select-table__head":"_select-table__head_vwqb1_134","select-table__body":"_select-table__body_vwqb1_138","select-table__body-scroll":"_select-table__body-scroll_vwqb1_146","select-table__radio":"_select-table__radio_vwqb1_185","select-table__radio-text":"_select-table__radio-text_vwqb1_227","select-table--disabled":"_select-table--disabled_vwqb1_259","select-table--maxrow-4":"_select-table--maxrow-4_vwqb1_262","select-table--maxrow-8":"_select-table--maxrow-8_vwqb1_265"},B=()=>({wrap:"",head:"",body:"",bodyScroll:"",caption:"",table:"",disabled:""}),J={components:{Simplebar:F},props:{classNames:{Type:Object,default(){return B()}},once:{Type:Boolean,default:!0},label:{Type:String,default:null},captionId:{Type:String,default:null},caption:{Type:String,default:null},disabled:{Type:Boolean,default:!1},maxRow:{Type:Number,default:4},onSelected:{Type:Function,default(){return()=>{}}},onUnSelected:{Type:Function,default(){return()=>{}}}},setup(e,s){let l=!1,t=!1;const a=R({items:[],count:0,once:{value:!1},callback:{}}),o=h(null),n=h(null),r=k(()=>{const{classNames:c}=e;return Object.assign(B(),c)}),v=k(()=>!!s.slots.head),b=k(()=>!!s.slots.colgroup),m=c=>{const y=a.count;return a.items.push(Object.assign({},c,{key:y})),a.count++,y},w=c=>{const y=a.items.findIndex(p=>p.key===c);a.items.splice(y,1)},T=()=>{e.once?a.items[0]&&a.items[0].select():a.items.forEach(c=>{c.select()})},q=()=>{a.items.forEach(c=>{c.unSelect()})},M=()=>{if(t)return;const c=n.value.scrollElement;l=!0,c.scrollLeft=o.value.scrollLeft,l=!1},A=()=>{if(l)return;const c=n.value.scrollElement;t=!0,o.value.scrollLeft=c.scrollLeft,t=!1};return E(()=>{a.once.value=e.once,a.callback.onSelected=e.onSelected,a.callback.onUnSelected=e.onUnSelected}),S(()=>e.once,c=>{a.once.value=c}),S(()=>e.onSelected,c=>{a.callback.onSelected=c}),S(()=>e.onUnSelected,c=>{a.callback.onUnSelected=c}),C("selectTableStyleModule",I()),C("selectTable",{items:a.items,itemsAdd:m,itemsRemove:w,allSelect:T,allUnSelect:q,once:a.once,callback:a.callback}),{head:o,bodyScroller:n,customClassNames:r,isHead:v,isColgroup:b,allSelect:T,allUnSelect:q,headScroll:M,bodyScroll:A}}},K=["aria-label","aria-describedby"],P=["id"],Q={role:"rowgroup"},W={key:0},X={role:"rowgroup"},Y={key:0};function Z(e,s,l,t,a,o){const n=L("Simplebar");return u(),_("div",{class:i([e.$style["select-table"],{[e.$style["select-table--disabled"]]:l.disabled,[t.customClassNames.disabled]:l.disabled,[e.$style[`select-table--maxrow-${l.maxRow}`]]:l.maxRow},t.customClassNames.wrap]),role:"table","aria-label":l.label,"aria-describedby":l.captionId},[d("div",{class:i([e.$style["select-table__caption"],t.customClassNames.caption]),id:l.captionId},H(l.caption),11,P),t.isHead?(u(),_("div",{key:0,ref:"head",class:i([e.$style["select-table__head"],t.customClassNames.head]),onScroll:s[0]||(s[0]=(...r)=>t.headScroll&&t.headScroll(...r))},[d("div",{class:i([e.$style["basic-table"],t.customClassNames.table])},[d("table",Q,[t.isColgroup?(u(),_("colgroup",W,[f(e.$slots,"colgroup")])):g("",!0),d("thead",null,[f(e.$slots,"head")])])],2)],34)):g("",!0),d("div",{class:i([e.$style["select-table__body"],t.customClassNames.body])},[O(n,{ref:"bodyScroller","data-simplebar-auto-hide":"false",class:i([e.$style["select-table__body-scroll"],t.customClassNames.bodyScroll]),onScroll:t.bodyScroll},{default:V(()=>[d("div",{class:i([e.$style["basic-table"],t.customClassNames.table])},[d("table",X,[t.isColgroup?(u(),_("colgroup",Y,[f(e.$slots,"colgroup")])):g("",!0),d("tbody",null,[f(e.$slots,"default")])])],2)]),_:3},8,["class","onScroll"])],2)],10,K)}const $={$style:G},ce=x(J,[["render",Z],["__cssModules",$]]),U=(e,s,l)=>{e&&e.callback&&e.callback[s]&&e.callback[s](l)},ee={props:{initialActive:{Type:Boolean,default:!1},onSelected:{Type:Function,default(){return()=>{}}},onUnSelected:{Type:Function,default(){return()=>{}}},action:{Type:Boolean,default:!0},actionType:{Type:String,default:"toggle"},disabled:{Type:Boolean,default:!1}},setup(e){const s=z("selectTable",{}),l=R({key:null,selected:{value:!1},disabled:{value:!1},radioClick:!1}),t=h(null),a=()=>{l.selected.value||(s.once.value&&s.allUnSelect(),l.selected.value=!0,N(()=>{e.onSelected(t),U(s,"onSelected",t)}))},o=()=>{l.selected.value&&(l.selected.value=!1,N(()=>{e.onUnSelected(t),U(s,"onUnSelected",t)}))},n=()=>{l.selected.value?o():a()},r=()=>{const{disabled:b,actionType:m}=e,{radioClick:w}=l;!b&&!w&&(m==="toggle"?n():m==="select"&&a()),l.radioClick=!1},v=()=>{l.radioClick=!0};return D(()=>{l.disabled.value=e.disabled}),E(()=>{s&&s.itemsAdd&&(l.key=s.itemsAdd({select:a,unSelect:o,toggle:n})),e.initialActive&&a()}),j(()=>{s&&s.itemsRemove&&s.itemsRemove(l.key)}),S(()=>e.disabled,b=>{l.disabled.value=b}),C("selectTableRow",{disabled:l.disabled,selected:l.selected,select:a,unSelect:o,toggle:n,radioClick:v}),{state:l,row:t,select:a,unSelect:o,toggle:n,click:r}}},le=["tabindex","title"];function te(e,s,l,t,a,o){return u(),_("tr",{ref:"row",tabindex:l.disabled?"-1":"0",class:i([{"is-selected":t.state.selected.value,"is-disabled":l.disabled}]),onClick:s[0]||(s[0]=()=>{l.action&&t.click()}),title:t.state.selected.value?"선택 됨":null},[f(e.$slots,"default",{select:t.select,unSelect:t.unSelect,toggle:t.toggle,selected:t.state.selected.value})],10,le)}const oe=x(ee,[["render",te]]);export{ce as S,oe as a};
//# sourceMappingURL=SelectTableRow-f9e2fe47.js.map
